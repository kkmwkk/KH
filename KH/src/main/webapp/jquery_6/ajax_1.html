<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>자바스크립트로 Ajax 구현하기</title>
<script type="text/javascript">
window.onload = function(){
	var xhr;
	
	if(window.XMLHttpRequest){
		xhr = new XMLHttpRequest();
	}else if(window.ActiveXObject){
		xhr = new ActiveXObject("Msxm12.XMLHTTP");
	}else{
		throw new Error("Ajax를 지원하지 않는 브라우저입니다.");
	}
	
	/* 비동기식 통식 방식인 XMLHttp는 가장 처음으로 익스플로러 5 버전에서 ActiveXObject라는 객체를 사용하여 구현됩니다.
	   그 후에 모질라와 사파리에서 XMLHttpRequest라는 이름으로 도입하여 널리 사용되기 시작합니다.
	   초기의 XMLHttpRequest 객체는 W3C 표준이 아니었기 때문에 웹 브라우저마다 구현상의 차이가 존재했습니다.
	   하지만 익스플로러도 7 버전부터 XMLHttpRequest 객체를 기본적으로 지원하게 되며, W3C 표준으로도 제정되게 됩니다.
	*/
	
	xhr.onreadystatechange = function(){
		if(xhr.readyState == 4){
			if(xhr.status >= 200 && xhr.status < 300){
				document.getElementById('container').innerHTML = xhr.responseText;
			}
		}
	}
	
	xhr.open('GET', 'resource.html');
	xhr.send('');
}

// readyState: Ajax 객체의 상태를 나타내는 숫자, 처음 Ajax 객체를 생성하면 0이다
// get() 메소드로 요청할 페이지 정보를 설정하면 1이 되고
// send() 메소드로 요청을 보내면 2가 되고 서버에서 응답이 오기 시작하면 3이되고 서버 응답이 완료되면 4가 된다.


// status : 서버로부터 받은 응답상태를 나타내는 숫자, 정상적으로 응답받은 경우 200이고, 페이지를 찾지못하면 404가 된다.
// status Text : 서버로부터 받은 응답상태를 나타내는 문자열, 정상적으로 응답을 받으면 'OK'가 되고 파일을 찾지 못하면 'NOT Found'가 된다.
</script>
</head>
<body>
<div id = "container"></div>
</body>
</html>




































